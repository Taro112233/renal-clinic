// prisma/schemas/drug.prisma

model DrugMaster {
  id        String   @id @default(cuid())
  drugCode  String   @unique
  drugName  String
  unitPrice Float
  isDmard   Boolean  @default(false)
  isHQ      Boolean  @default(false)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([drugCode])
  @@index([isDmard])
  @@index([isHQ])
  @@map("drug_masters")
}

model DrugSavingRecord {
  id         String   @id @default(cuid())
  month      Int
  year       Int
  fiscalYear String

  drugCode   String
  drugName   String
  unitPrice  Float
  quantity   Int
  totalSaving Float

  isDmard    Boolean  @default(false)
  createdBy  String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  @@unique([month, year, drugCode])
  @@index([fiscalYear])
  @@index([month, year])
  @@index([isDmard])
  @@map("drug_saving_records")
}